// loading画面を消す
document.querySelector('#loading').classList.add("is-hide");

<% if @valid %>

displaySpeechToTextModal();
function displaySpeechToTextModal() {
    const main = document.querySelector('#main');
    main.insertAdjacentHTML('beforeend', "<%= j(render 'subtitles/speech_to_text_modal') %>");
    const speechToTextModalWrapper = document.querySelector('#speech-to-text-modal');
    const closeBtns = document.querySelectorAll('.close-speech-to-text-modal')
    closeBtns.forEach(function(item) {
        item.addEventListener('click', function() {
            speechToTextModalWrapper.remove();
        });
    });
}


<% else %>

displayErrorMessage();
function displayErrorMessage() {
    const invalidFeedback = document.querySelector('#invalid-feedback');
    invalidFeedback.textContent = "<%= @error_message %>";
    invalidFeedback.style.display = 'block';
}

<% end %>

