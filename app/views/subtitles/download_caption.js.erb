<% if @error.present? %>
var captionModalWrapper = document.querySelector('#captions-modal');
captionModalWrapper.remove();
var invalidFeedback = document.querySelector('#invalid-feedback');
invalidFeedback.textContent = "<%= @error %>";
<% else %>
var captionModal = document.querySelector('#captions-<%= @token %>');
var title = "<%= t 'subtitles.downloading_now' %>"
captionModal.innerHTML = `
<h3 class="my-4 font-weight-bold" id="modal-title">${title}</h3>
<div class="progress" id="download-progress-bar">
  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
</div>`;

//var overlay = document.querySelector('.close-captions-modal');
//overlay.classList.remove('close-captions-modal');
//overlay.addEventListener("click", function (e) {
//    e.preventDefault();
//});

<% end %>
